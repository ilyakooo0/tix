∀ φ χ ψ ω α1 β2 γ3 δ4 ε5 ζ6 η7.
( φ.services = χ,
  φ.services = ψ,
  φ.services = ω,
  φ.services = α1,
  β2.types = γ3,
  β2.types = δ4,
  β2.types = ε5,
  β2.types = ζ6
) =>
{config = φ; lib = β2; pkgs = η7;} ->
{ config =
    ∀ ρ σ τ υ.
    ( β2.mkIf =
        ρ ->
        { environment =
            { etc =
                ∀ ι κ λ μ ν ξ ο.
                ( β2.mapAttrs' = (ι -> κ -> λ) -> μ -> ν,
                  β2.nameValuePair = String -> {source = κ;} -> λ,
                  ξ.shorewall6 = ο,
                  ο.configs = μ
                ) =>
                ν;
              systemPackages =
                ∀ ι κ λ. (ι.shorewall6 = κ, κ.package = λ) => [λ];
            };
          systemd =
            { services =
                { firewall = {enable = Bool;};
                  shorewall6 =
                    { after = [String];
                      before = [String];
                      description = String;
                      preStart = String;
                      reloadIfChanged = Bool;
                      restartTriggers =
                        ∀ α β γ δ.
                        ( β2.attrValues = α -> β,
                          γ.shorewall6 = δ,
                          δ.configs = α
                        ) =>
                        β;
                      serviceConfig =
                        { ExecReload = String;
                          ExecStart = String;
                          ExecStop = String;
                          RemainAfterExit = String;
                          Type = String;
                        };
                      wantedBy = [String];
                      wants = [String];
                    };
                };
            };
        } ->
        σ,
      τ.shorewall6 = υ,
      υ.enable = ρ
    ) =>
    σ;
  options =
    { services =
        { shorewall6 =
            { configs =
                ∀ π.
                ( β2.mkOption =
                    { apply =
                        ∀ ε ζ η θ.
                        ( β2.mapAttrs = (ε -> ζ -> η) -> θ,
                          η7.writeText = String -> ζ -> η
                        ) =>
                        θ;
                      default = {};
                      description = String;
                      type = ∀ ε ζ η θ. (ε.attrsOf = ζ -> η, θ.lines = ζ) => η;
                    } ->
                    π
                ) =>
                π;
              enable =
                ∀ π.
                ( β2.mkOption =
                    { default = Bool;
                      description = String;
                      type = ∀ ε ζ. (ε.bool = ζ) => ζ;
                    } ->
                    π
                ) =>
                π;
              package =
                ∀ π.
                ( β2.mkOption =
                    { default = ∀ ε. (η7.shorewall = ε) => ε;
                      defaultText = String;
                      description = String;
                      type = ∀ ε ζ. (ε.package = ζ) => ζ;
                    } ->
                    π
                ) =>
                π;
            };
        };
    };
}