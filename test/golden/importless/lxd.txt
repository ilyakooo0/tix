∀ ε ζ η. { config = ε; lib = ζ; pkgs = η } -> { config = { boot = { kernel = { sysctl = { fs.inotify.max_queued_events = Integer; fs.inotify.max_user_instances = Integer; fs.inotify.max_user_watches = Integer; kernel.dmesg_restrict = Integer; kernel.keys.maxkeys = Integer; net.ipv4.neigh.default.gc_thresh3 = Integer; net.ipv6.neigh.default.gc_thresh3 = Integer; vm.max_map_count = Integer } } }; environment = { systemPackages = ∀ δ. [δ] }; security = { apparmor = { enable = Bool; packages = ∀ γ. [γ]; profiles = [String] } }; systemd = { services = { lxd = { after = [String]; description = String; path = ∀ β. β; preStart = String; serviceConfig = { Environment = String; ExecStart = String; KillMode = String; LimitMEMLOCK = String; LimitNOFILE = String; LimitNPROC = String; TasksMax = String; Type = String }; wantedBy = [String] } } }; users = { groups = { lxd = { gid = ∀ β. β } }; users = { root = { subGidRanges = [{ count = Integer; startGid = Integer }]; subUidRanges = [{ count = Integer; startUid = Integer }] } } } }; options = { virtualisation = { lxd = { enable = { default = Bool; description = String; type = ∀ β. β }; lxcPackage = { default = ∀ β. β; defaultText = String; description = String; type = ∀ β. β }; package = { default = { nftablesSupport = ∀ α. α }; defaultText = String; description = String; type = ∀ β. β }; recommendedSysctlSettings = { default = Bool; description = String; type = ∀ β. β }; zfsPackage = { default = ∀ β. β; defaultText = String; description = String; type = ∀ β. β }; zfsSupport = { default = Bool; description = String; type = ∀ β. β } } } } }