∀ α β γ δ ε ζ η θ ι κ λ μ ν ξ ο π ρ σ τ υ φ χ ψ ω α1 β1 γ1.
( α.config = β,
  α.lib = γ,
  α.pkgs = δ,
  β.agent = ε,
  β.enable = Bool,
  γ.coreutils = ζ,
  γ.findutils = ζ,
  γ.gawk = ζ,
  γ.gnugrep = ζ,
  γ.makeWrapper = η,
  γ.mkIf =
    θ ->
    { assertions = [{assertion = Bool; message = String;}];
      boot = {initrd = {kernelModules = [String];};};
      environment = {etc = {waagent.conf = {text = String;};};};
      networking =
        { dhcpcd = {persistent = Bool;};
          firewall = {allowedUDPPorts = [Integer];};
        };
      services =
        { logrotate = {config = String; enable = Bool;};
          udev = {packages = [ι];};
        };
      systemd =
        { services =
            { consume-hypervisor-entropy =
                { before = [String];
                  description = String;
                  path = [κ];
                  script = String;
                  serviceConfig =
                    { RemainAfterExit = Bool;
                      StandardError = String;
                      StandardOutput = String;
                      Type = String;
                    };
                  wantedBy = [String];
                };
              waagent =
                { after = [String];
                  description = String;
                  path = [λ];
                  serviceConfig = {ExecStart = String; Type = String;};
                  unitConfig = {ConditionPathExists = String;};
                  wantedBy = [String];
                  wants = [String];
                };
            };
          targets = {provisioned = {description = String;};};
        };
    } ->
    μ,
  γ.mkOption = {default = Bool; description = String;} -> ν,
  γ.nettools = ζ,
  γ.openssh = ζ,
  γ.openssl = ζ,
  γ.parted = ζ,
  γ.procps = ζ,
  γ.python = η,
  γ.pythonPackages = ξ,
  γ.shadow = ζ,
  γ.stdenv = ο,
  γ.utillinux = ζ,
  δ.bash = λ,
  δ.coreutils = κ,
  δ.e2fsprogs = λ,
  δ.fetchFromGitHub =
    {owner = String; repo = String; rev = String; sha256 = String;} -> π,
  δ.isi686 = Bool,
  δ.isx86_64 = Bool,
  δ.writeScript = String -> String -> ρ,
  ο.mkDerivation =
    { buildInputs = [η];
      buildPhase = Bool;
      configurePhase = Bool;
      installPhase = String;
      name = String;
      patches = [Path];
      pythonPath = [σ];
      runtimeDeps = [ζ];
      src = π;
    } ->
    ι,
  ξ.pyasn1 = σ,
  τ.wrapPython = η,
  ε.enable = θ,
  υ.azure = β,
  φ.virtualisation = υ,
  χ.stdenv = δ,
  ψ.stdenv = δ,
  ω.networkmanager = β,
  α1.networking = ω
) =>
α ->
{ config = μ;
  options =
    { virtualisation =
        { azure =
            { agent =
                {enable = ν; mountResourceDisk = β1; verboseLogging = γ1;};
            };
        };
    };
}